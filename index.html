<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://kit.fontawesome.com/8ead13f8af.js"
      crossorigin="anonymous"
    ></script>

    <title>3D Configurator</title>
  </head>
  <body>
    <div id="logo">
      <img src="/LogoWhite.png" alt="Logo" />
    </div>

    <div id="configurator">
      <div class="carousel-navigation">
        <button onclick="prevSlide()">
          <i class="fa-solid fa-arrow-left"></i>
        </button>
        <div id="dynamic-title" class="section-title"></div>
        <button onclick="nextSlide()">
          <i class="fa-solid fa-arrow-right"></i>
        </button>
      </div>

      <div class="carousel">
        <div class="carousel-wrapper">
          <!-- Color picker Laces-->
          <!-- Section for Laces -->
          <div class="customization-section">
            <div class="color-options">
              <button
                onclick="changeLaces('White')"
                class="color-button color-white"
              ></button>
              <button
                onclick="changeLaces('Black')"
                class="color-button color-black"
              ></button>
              <button
                onclick="changeLaces('#0047ab')"
                class="color-button color-blue"
              ></button>
              <button
                onclick="changeLaces('#ee4b2b')"
                class="color-button color-red"
              ></button>
              <button
                onclick="changeLaces('#50c878')"
                class="color-button color-green"
              ></button>
              <button
                onclick="changeLaces('#808080')"
                class="color-button color-gray"
              ></button>
              <button
                onclick="changeLaces('#8b4513')"
                class="color-button color-brown"
              ></button>
            </div>
          </div>

          <!-- Section for Soles -->
          <div class="customization-section">
            <div class="color-options">
              <button
                onclick="changeSoles('White')"
                class="color-button color-white"
              ></button>
              <button
                onclick="changeSoles('Black')"
                class="color-button color-black"
              ></button>
              <button
                onclick="changeSoles('#0047ab')"
                class="color-button color-blue"
              ></button>
              <button
                onclick="changeSoles('#ee4b2b')"
                class="color-button color-red"
              ></button>
              <button
                onclick="changeSoles('#50c878')"
                class="color-button color-green"
              ></button>
              <button
                onclick="changeSoles('#808080')"
                class="color-button color-gray"
              ></button>
              <button
                onclick="changeSoles('#8b4513')"
                class="color-button color-brown"
              ></button>
            </div>
          </div>

          <!-- Section for shoe outside -->
          <div class="customization-section">
            <div class="color-options">
              <button
                onclick="changeOutside('White')"
                class="color-button color-white"
              ></button>
              <button
                onclick="changeOutside('Black')"
                class="color-button color-black"
              ></button>
              <button
                onclick="changeOutside('#0047ab')"
                class="color-button color-blue"
              ></button>
              <button
                onclick="changeOutside('#ee4b2b')"
                class="color-button color-red"
              ></button>
              <button
                onclick="changeOutside('#50c878')"
                class="color-button color-green"
              ></button>
              <button
                onclick="changeOutside('#808080')"
                class="color-button color-gray"
              ></button>
              <button
                onclick="changeOutside('#8b4513')"
                class="color-button color-brown"
              ></button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      let currentSlide = 0;

      function updateCarousel() {
        const carousel = document.querySelector(".carousel");
        const carouselWrapper = document.querySelector(".carousel-wrapper");
        const slideWidth = carousel.clientWidth;
        const totalSlides = document.querySelectorAll(
          ".customization-section"
        ).length;

        const offset = -(currentSlide * slideWidth);
        carouselWrapper.style.transform = `translateX(${offset}px)`;
      }

      function prevSlide() {
        if (currentSlide > 0) {
          currentSlide--;
          updateCarousel();
        }
      }

      function nextSlide() {
        const totalSlides = document.querySelectorAll(
          ".customization-section"
        ).length;
        if (currentSlide < totalSlides - 1) {
          currentSlide++;
          updateCarousel();
        }
      }

      document.addEventListener("DOMContentLoaded", () => {
        updateCarousel();

        window.addEventListener("resize", () => {
          updateCarousel();
        });
      });
    </script>

    <script>
      const sectionTitles = ["Laces", "Soles", "Outside"];

      const dynamicTitle = document.querySelector("#dynamic-title");

      function updateTitle() {
        if (currentSlide >= 0 && currentSlide < sectionTitles.length) {
          dynamicTitle.textContent = sectionTitles[currentSlide];
        } else {
          dynamicTitle.textContent = "";
        }
      }

      function updateCarousel() {
        const carousel = document.querySelector(".carousel");
        const carouselWrapper = document.querySelector(".carousel-wrapper");

        const slideWidth = carousel.clientWidth;
        const offset = -(currentSlide * slideWidth);
        carouselWrapper.style.transform = `translateX(${offset}px)`;

        updateTitle();
      }

      document.addEventListener("DOMContentLoaded", () => {
        updateTitle();
      });
    </script>
    <script type="module" src="/main.js"></script>
  </body>
</html>
